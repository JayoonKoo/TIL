# 211104

## useMemo

`useMemo` 는 값을 기억한다. 훅스에서는 렌더링마다 함수가 실행되므로 외부 함수로 부터 값을 받아오는 코드가 있다면 해당 코드가 반복해서 실행될 것이다. 이때 해당 함수로 부터 받아오는 값을 `useMemo`를 통해 받아오면 캐쉬하고 저장한다. 세번째 인수로 달라졌을때 수행할 변수를 넣을 수도 있다.

## useCallback

`usMemo`가 값을 기억한다면 `useCallback` 은 함수 생성을 기억한다. 마찬가지로 훅스에서는 함수를 계속 실행하기 때문에 만들었던 함수도 똑같이 새로 생성한다. `useCallback`을 사용하면 함수를 기억하고 있어서 똑같은 함수는 만들지 않는다. 마찬가지로 마지막 인수로 변할때 다시 생성할 변수를 넣음으로써 다시 만들기를 수행할 수 있다.

`useCallback` 은 자식으로 함수를 넘겨줄때 무조건 사용해야 한다. 자식으로 함수를 넘겨 줄때는 생성했던 함수를 계속해서 똑같인 넘겨주어야 리액트는 똑같은 함수인줄 알고 리랜더링 하지 않는다. 따라서 `useCallback` 을 통해 감싸줌으로서 함수가 새로 생성되는 것을 막아야 하고 이를 통해 자식 컴포넌트가 리랜더링 되는것을 막을 수 있다.

## Hooks 규칙?

Hooks 는 항상 최상위에서 사용해야 한다. 조건문 같은데서 사용하면 안된다. 그리고 순서가 중요하다.

## useReducer

`useState`를 통해서 받은 변수와 함수를 자식 컴포넌트로 전달하려면 조금만 그 수가 늘어나도 굉장히 힘들것이다. useReducer 는 state와 dispatch를 반환하는데 이 두게를 이용해서 똑같은 일을 할 수 있다. 인수로는 reducer, 초기값을 받는다. state를 통해 관리해야 하는 변수에 접근할 수 있고, dispatch를 호출함으로서 state 값을 변경시킬수 있다 이를 action 이라고 한다. 또 action을 통해서 값이 어떻게 변경될 것인가를 reduce 에서 관리하는데 인자로 state와 action 을 받아서 새로운 state를 반환하는 형태이다. 따라서 action 에서는 type과 필요한 정보를 설정해서 dispatch를 호출해야 한다.
